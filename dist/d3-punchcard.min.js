!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],i);else{var e=i("object"==typeof exports?require("d3"):t.d3);for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(t){return function(t){function i(r){if(e[r])return e[r].exports;var n=e[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){"use strict";function r(t){return this instanceof r?(Object.assign(this,a,t),void this._init()):new r(t)}var n=e(1),a={target:"#chart",width:600,height:400,margin:{top:20,right:20,bottom:40,left:100},color:"#444"};i=t.exports=r,i.punchcard=r;var s=r.prototype,o=["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];s._init=function(){var t=this.width,i=this.height,e=this.margin,r=this.innerWidth=t-e.left-e.right,a=this.innerHeight=i-e.top-e.bottom,s=this.unitWidth=r/24,h=this.unitHeight=a/7;this.unitSize=Math.min(s,h),this.chart=n.select(this.target).append("svg").attr("width",t).attr("height",i).append("g").attr("transform","translate("+e.left+", "+e.top+")"),this.x=n.scale.linear().domain([0,23]).range([s/2,r-s/2]),this.y=n.scale.linear().domain([0,6]).range([h/2,a-h/2]),this.xAxis=n.svg.axis().orient("bottom").scale(this.x).ticks(24).tickFormat(function(t,i){return o[i]}),this.yAxis=n.svg.axis().orient("left").scale(this.y).ticks(7).tickFormat(function(t,i){return c[i]}),this._renderAxis()},s.render=function(t){this.data=t||[],this._renderCard()},s._renderAxis=function(){this.chart.append("g").attr("class","x axis").attr("transform","translate(0, "+this.innerHeight+")").call(this.xAxis),this.chart.append("g").attr("class","y axis").call(this.yAxis)},s._renderCard=function(){var t=this,i=this.data,e=n.max(i,function(t){return t[2]});this.r=n.scale.sqrt().domain([0,e]).range([0,this.unitSize/2]);var r=this.chart.selectAll("circle").data(i),a=[r,r.enter().append("circle")];a.forEach(function(i){i.attr("cx",function(i){return t.x(i[1])}).attr("cy",function(i){return t.y(i[0])}).attr("r",function(i){return t.r(i[2])}).style("fill",t.color)}),r.exit().remove()},s.clear=function(){this.chart.selectAll("*").remove()}},function(i,e){i.exports=t}])});